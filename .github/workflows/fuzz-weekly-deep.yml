name: Weekly Deep Fuzzing

on:
  schedule:
    - cron: '0 4 * * 0'   # Sundays 04:00 UTC
  workflow_dispatch:      # Allow manual trigger

concurrency:
  group: ${{ github.workflow }}
  cancel-in-progress: false

jobs:
  fuzz-deep:
    uses: ./.github/workflows/_fuzz.yml
    with:
      targets: '["FuzzParserDeterminism", "FuzzParserNoPanic", "FuzzParserEventBalance", "FuzzParserMemorySafety", "FuzzParserPathologicalDepth", "FuzzParserErrorRecovery", "FuzzParserWhitespaceInvariance", "FuzzReadPlan"]'
      per_target: "10m"
      race: false
      upload_corpus: true
